<div class="login-container">
  <div class="brand-header">
    <mat-icon>local_gas_station</mat-icon>
    <span>HubStation</span>
  </div>

  <mat-card class="login-card">
    <mat-card-header class="custom-header">
      <mat-card-title>Bem-vindo</mat-card-title>
      <mat-card-subtitle>Acesso Corporativo</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Usuário</mat-label>
          <input matInput formControlName="user" placeholder="Seu ID" autocomplete="username" />
          <mat-icon matSuffix class="input-icon">person</mat-icon>
          @if (form.get('user')?.invalid && form.get('user')?.touched) {
          <mat-error>Obrigatório</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Senha</mat-label>
          <input
            matInput
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="pass"
            autocomplete="current-password"
          />
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>

          @if (form.get('pass')?.invalid && form.get('pass')?.touched) {
          <mat-error>Obrigatório</mat-error>
          }
        </mat-form-field>

        <div class="actions">
          <button
            mat-flat-button
            color="primary"
            class="login-btn"
            type="submit"
            [disabled]="form.invalid || isLoading"
          >
            @if (isLoading) {
            <span class="spinner-mini"></span>
            <span>Entrando...</span>
            } @else {
            <div class="btn-content">
              <span>ACESSAR</span>
              <mat-icon>arrow_forward</mat-icon>
            </div>
            }
          </button>
        </div>
      </form>
    </mat-card-content>

    <mat-card-footer class="card-footer">
      <span class="version">v1.0 Enterprise</span>
    </mat-card-footer>
  </mat-card>
</div>
